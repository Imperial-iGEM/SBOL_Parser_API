# SBOL Parser API

## Generating CSVs for DNABot (BASIC Assembly)

Construct and Parts/Linkers CSVs can be generated by calling the `generateCsv` method of `SBOLParser`.

The `generateCsv` method processes the SBOL Document as follows:
1. Extracts Component Definitions and/or Combinatorial Derivations from SBOL Document
2. Enumerates any Combinatorial Derivations
3. Filters designs to remove designs with repeated parts
4. Select a random subset of the design space
5. Inserts backbone plasmid to each design if not present
6. Inserts up to 7 linkers between designs (neutral BASIC linkers L1-L7)
7. Sorts list of parts/linkers used across all designs alphabetically
8. Writes construct and parts/linkers CSVs

`generateCSV` can take in several different combinations of parameters depending on the requirements of the experimental setup.

### Generate a single construct and parts/linkers CSV for a specific Component Definition/Combinatorial Derivation

`generateCsv(SBOLDocument doc, String constructType, String constructURI, int maxSize)`

Parameters:
- `doc` SBOL Document containing construct designs
- `constructType` Accepts `COMPONENT_DEFINITION` or `COMBINATORIAL_DERIVATION` as input
- `constructURI` URI of Combinatorial Derivation or Component Definition to assemble
- `maxSize` Maximum number of samples in a single plate

### Generate several construct and parts/linkers CSVs for a specific Component Definition/Combinatorial Derivation depending on the number of runs

`generateCsv(SBOLDocument doc, String constructType, String constructURI, int maxSize, int numberOfRuns)`

Parameters:
- `doc` SBOL Document containing construct designs
- `constructType` Accepts `COMPONENT_DEFINITION` or `COMBINATORIAL_DERIVATION` as input
- `constructURI` URI of Combinatorial Derivation or Component Definition to assemble
- `maxSize` Maximum number of samples in a single plate
- `numberOfRuns` Number of runs (i.e. number of construct and parts/linkers CSVs to be generated)

### Generate a single construct and parts/linkers CSV for all Component Definitions/Combinatorial Derivations/Both

`generateCsv(SBOLDocument doc, String constructType, int maxSize)`

Parameters:
- `doc` SBOL Document containing construct designs
- `constructType` Accepts `COMPONENT_DEFINITION` or `COMBINATORIAL_DERIVATION` or `BOTH` as input
- `maxSize` Maximum number of samples in a single plate

### Generate several construct and parts/linkers CSV for all Component Definitions/Combinatorial Derivations/Both depending on the number of runs

`generateCsv(SBOLDocument doc, String constructType, int maxSize, int numberOfRuns)`

Parameters:
- `doc` SBOL Document containing construct designs
- `constructType` Accepts `COMPONENT_DEFINITION` or `COMBINATORIAL_DERIVATION` or `BOTH` as input
- `maxSize` Maximum number of samples in a single plate
- `numberOfRuns` Number of runs (i.e. number of construct and parts/linkers CSVs to be generated)

## Generating CSVs for MoClo GoldenGate Assembly


## Notes

- Default prefix URI needs to be set for SBOL Document
- No option to change Linkers or Backbone currently 
- Linkers and Backbone SBOL files are found in `examples/sbol_files` directory as `linker_parts.xml` and `dummyBackbone.xml` respectively
  - `linker_parts.xml` and `dummyBackbone.xml` are generated by `linkerOutput.java` and `backboneOutput.java` respectively

## Example SBOL Files

- `examples/sbol_files/iGEM2020` contains SBOL files specifying designs for Imperial iGEM 2020 (outdated)
  - `Trp_Optimization.xml` describes fully assembled construct for Trp Optimization
- `examples/sbol_filess/synbiohub` contains SBOL files taken from SynbioHub
- `dummy.xml` describes a basic gene design of Pro-RBS-CDS-Ter

## REST API
